{"version":3,"sources":["../../test/getnextPair.js"],"names":[],"mappings":";;;;;;;;;;AAGA,IAAI,OAAO,QAAQ,cAAR,CAAP;AACJ,IAAI,MAAM,KAAK,GAAL;;;AAGV,qBAAS,kBAAT,EAA6B,UAAC,IAAD,EAAU;;AAEnC,yBAAS,MAAT,EAAiB,YAAM;;AAEnB,uBAAG,6CAAH,EAAkD,YAAM;AACpD,gBAAM,QAAQ,oBAAI;AACd,sBAAM,oBAAI;AACN,0BAAM,gBAAK,EAAL,CAAQ,eAAR,EAAyB,eAAzB,CAAN;AACA,2BAAO,oBAAI;AACP,yCAAiB,CAAjB;AACA,yCAAiB,CAAjB;qBAFG,CAAP;iBAFE,CAAN;AAOA,yBAAS,gBAAK,EAAL,CAAQ,UAAR,EAAoB,UAApB,EAAgC,WAAhC,CAAT;aARU,CAAR,CAD8C;AAWpD,gBAAM,YAAY,gBAAK,KAAL,CAAZ,CAX8C;AAYpD,gBAAM,SAAS,oBAAI;AACf,sBAAM,oBAAI;AACN,0BAAM,gBAAK,EAAL,CAAQ,UAAR,EAAoB,UAApB,CAAN;iBADE,CAAN;AAGA,yBAAS,gBAAK,EAAL,CAAQ,WAAR,EAAqB,eAArB,CAAT;aAJW,CAAT,CAZ8C;AAkBpD,gBAAI,qBAAJ,EAA2B,UAAU,QAAV,EAA3B,EAlBoD;AAmBpD,gBAAI,qBAAJ,EAA2B,OAAO,QAAP,EAA3B,EAnBoD;AAoBpD,8BAAO,UAAU,MAAV,CAAiB,MAAjB,CAAP,EAAiC,EAAjC,CAAoC,KAApC,CAA0C,IAA1C,EApBoD;SAAN,CAAlD,CAFmB;;AAyBnB,uBAAG,0CAAH,EAA+C,YAAM;AACjD,gBAAM,QAAQ,oBAAI;AACd,sBAAM,oBAAI;AACN,0BAAM,gBAAK,EAAL,CAAQ,eAAR,EAAyB,eAAzB,CAAN;AACA,2BAAO,oBAAI;AACP,yCAAiB,CAAjB;AACA,yCAAiB,CAAjB;qBAFG,CAAP;iBAFE,CAAN;AAOA,yBAAS,gBAAK,EAAL,CAAQ,UAAR,EAAoB,UAApB,EAAgC,WAAhC,CAAT;aARU,CAAR,CAD2C;AAWjD,gBAAM,YAAY,gBAAK,KAAL,CAAZ,CAX2C;AAYjD,gBAAM,kBAAkB,oBAAI;AACxB,sBAAM,oBAAI;AACN,0BAAM,gBAAK,EAAL,CAAQ,UAAR,EAAoB,UAApB,CAAN;iBADE,CAAN;AAGA,yBAAS,gBAAK,EAAL,CAAQ,WAAR,EAAqB,eAArB,EAAsC,eAAtC,CAAT;aAJoB,CAAlB,CAZ2C;AAkBjD,8BAAO,UAAU,MAAV,CAAiB,eAAjB,CAAP,EAA0C,EAA1C,CAA6C,KAA7C,CAAmD,IAAnD,EAlBiD;SAAN,CAA/C,CAzBmB;KAAN,CAAjB,CAFmC;;AAiDnC,yBAAS,MAAT,EAAiB,YAAM;;AAEnB,uBAAG,uCAAH,EAA4C,YAAM;AAC9C,gBAAM,QAAQ,oBAAI;AACd,sBAAM,oBAAI;AACN,0BAAM,gBAAK,EAAL,CAAQ,eAAR,EAAyB,eAAzB,CAAN;AACA,2BAAO,oBAAI;AACP,yCAAiB,CAAjB;AACA,yCAAiB,CAAjB;qBAFG,CAAP;iBAFE,CAAN;AAOA,yBAAS,sBAAT;aARU,CAAR,CADwC;AAW9C,gBAAM,YAAY,gBAAK,KAAL,CAAZ,CAXwC;AAY9C,gBAAM,iBAAiB,oBAAI;AACvB,wBAAQ,eAAR;aADmB,CAAjB,CAZwC;AAe9C,gBAAI,qBAAJ,EAA2B,UAAU,QAAV,EAA3B,EAf8C;AAgB9C,8BAAO,UAAU,MAAV,CAAiB,cAAjB,CAAP,EAAyC,EAAzC,CAA4C,KAA5C,CAAkD,IAAlD,EAhB8C;SAAN,CAA5C,CAFmB;KAAN,CAAjB,CAjDmC;CAAV,CAA7B","file":"getnextPair.js","sourcesContent":["import {expect} from 'chai'\nimport {List, Map} from 'immutable'\nimport {describe, it} from 'mocha'\nlet mlog = require('mocha-logger')\nlet log = mlog.log;\nimport {setEntries, next, vote} from '../src/core';\n\ndescribe('immutablilty => ', (done) => {\n\n    describe('next', () => {\n\n        it('puts winner of current vote back to entries', () => {\n            const state = Map({\n                vote: Map({\n                    pair: List.of('Trainspotting', '28 Days Later'),\n                    tally: Map({\n                        'Trainspotting': 4,\n                        '28 Days Later': 2\n                    })\n                }),\n                entries: List.of('Sunshine', 'Millions', '127 Hours')\n            });\n            const nextState = next(state);\n            const result = Map({\n                vote: Map({\n                    pair: List.of('Sunshine', 'Millions')\n                }),\n                entries: List.of('127 Hours', 'Trainspotting')\n            })\n            log('returned value ===>', nextState.toString())\n            log('expected result ==>', result.toString())\n            expect(nextState.equals(result)).to.equal(true);\n        });\n\n        it('puts both from tied vote back to entries', () => {\n            const state = Map({\n                vote: Map({\n                    pair: List.of('Trainspotting', '28 Days Later'),\n                    tally: Map({\n                        'Trainspotting': 3,\n                        '28 Days Later': 3\n                    })\n                }),\n                entries: List.of('Sunshine', 'Millions', '127 Hours')\n            });\n            const nextState = next(state);\n            const expectedResults = Map({\n                vote: Map({\n                    pair: List.of('Sunshine', 'Millions')\n                }),\n                entries: List.of('127 Hours', 'Trainspotting', '28 Days Later')\n            });\n            expect(nextState.equals(expectedResults)).to.equal(true);\n        })\n    });\n\n    describe('next', () => {\n\n        it('marks winner when just one entry left', () => {\n            const state = Map({\n                vote: Map({\n                    pair: List.of('Trainspotting', '28 Days Later'),\n                    tally: Map({\n                        'Trainspotting': 4,\n                        '28 Days Later': 2\n                    })\n                }),\n                entries: List()\n            });\n            const nextState = next(state);\n            const resultExpected = Map({\n                winner: 'Trainspotting'\n            })\n            log('returned value ===>', nextState.toString())\n            expect(nextState.equals(resultExpected)).to.equal(true);\n        });\n\n    });\n\n});\n"]}